function sprintf(format){var str_repeat=function(str,len){return len>0?Array(len+1).join(str.replace(/^'/,"")):""},params=Array.prototype.slice.call(arguments,1),idx=0;return format.replace(/\x25(?:(\d+)\$)?(-)?(?:(0|'[\s\S])?(\d+))?(?:\.(\d+))?([b-fosuxX])/g,function(match,cite,align,pad_character,m,n,type){var $val,$pad_length;switch($val=cite?params[cite-1]:params[idx++],type){case"b":$val=parseInt($val,10).toString(2);break;case"c":$val=String.fromCharCode($val);break;case"d":$val=parseInt(Math.round($val),10);break;case"e":$val=n?$val.toExponential(n):$val.toExponential();break;case"f":$val=n?parseFloat($val).toFixed(n):parseFloat($val);break;case"o":$val=parseInt($val,10).toString(8);break;case"s":$val=$val&&n?$val.substring(0,n):$val;break;case"u":$val=Math.abs(parseInt($val,10));break;case"x":$val=parseInt($val,10).toString(16);break;case"X":$val=parseInt($val,10).toString(16).toUpperCase()}return $pad_length=parseInt(m||0,10)-String($val).length,$pad_character=str_repeat(pad_character||" ",$pad_length),align?$val+$pad_character:$pad_character+$val})}function md5(str){var xl,k,AA,BB,CC,DD,a,b,c,d,rotateLeft=function(lValue,iShiftBits){return lValue<<iShiftBits|lValue>>>32-iShiftBits},addUnsigned=function(lX,lY){var lX4,lY4,lX8,lY8,lResult;return lX8=2147483648&lX,lY8=2147483648&lY,lX4=1073741824&lX,lY4=1073741824&lY,lResult=(1073741823&lX)+(1073741823&lY),lX4&lY4?2147483648^lResult^lX8^lY8:lX4|lY4?1073741824&lResult?3221225472^lResult^lX8^lY8:1073741824^lResult^lX8^lY8:lResult^lX8^lY8},_F=function(x,y,z){return x&y|~x&z},_G=function(x,y,z){return x&z|y&~z},_H=function(x,y,z){return x^y^z},_I=function(x,y,z){return y^(x|~z)},_FF=function(a,b,c,d,x,s,ac){return a=addUnsigned(a,addUnsigned(addUnsigned(_F(b,c,d),x),ac)),addUnsigned(rotateLeft(a,s),b)},_GG=function(a,b,c,d,x,s,ac){return a=addUnsigned(a,addUnsigned(addUnsigned(_G(b,c,d),x),ac)),addUnsigned(rotateLeft(a,s),b)},_HH=function(a,b,c,d,x,s,ac){return a=addUnsigned(a,addUnsigned(addUnsigned(_H(b,c,d),x),ac)),addUnsigned(rotateLeft(a,s),b)},_II=function(a,b,c,d,x,s,ac){return a=addUnsigned(a,addUnsigned(addUnsigned(_I(b,c,d),x),ac)),addUnsigned(rotateLeft(a,s),b)},convertToWordArray=function(str){for(var lWordCount,lMessageLength=str.length,lNumberOfWords_temp1=lMessageLength+8,lNumberOfWords_temp2=(lNumberOfWords_temp1-lNumberOfWords_temp1%64)/64,lNumberOfWords=16*(lNumberOfWords_temp2+1),lWordArray=new Array(lNumberOfWords-1),lBytePosition=0,lByteCount=0;lMessageLength>lByteCount;)lWordCount=(lByteCount-lByteCount%4)/4,lBytePosition=lByteCount%4*8,lWordArray[lWordCount]=lWordArray[lWordCount]|str.charCodeAt(lByteCount)<<lBytePosition,lByteCount++;return lWordCount=(lByteCount-lByteCount%4)/4,lBytePosition=lByteCount%4*8,lWordArray[lWordCount]=lWordArray[lWordCount]|128<<lBytePosition,lWordArray[lNumberOfWords-2]=lMessageLength<<3,lWordArray[lNumberOfWords-1]=lMessageLength>>>29,lWordArray},wordToHex=function(lValue){var lByte,lCount,wordToHexValue="",wordToHexValue_temp="";for(lCount=0;3>=lCount;lCount++)lByte=lValue>>>8*lCount&255,wordToHexValue_temp="0"+lByte.toString(16),wordToHexValue+=wordToHexValue_temp.substr(wordToHexValue_temp.length-2,2);return wordToHexValue},x=[],S11=7,S12=12,S13=17,S14=22,S21=5,S22=9,S23=14,S24=20,S31=4,S32=11,S33=16,S34=23,S41=6,S42=10,S43=15,S44=21;for(str=this.utf8_encode(str),x=convertToWordArray(str),a=1732584193,b=4023233417,c=2562383102,d=271733878,xl=x.length,k=0;xl>k;k+=16)AA=a,BB=b,CC=c,DD=d,a=_FF(a,b,c,d,x[k+0],S11,3614090360),d=_FF(d,a,b,c,x[k+1],S12,3905402710),c=_FF(c,d,a,b,x[k+2],S13,606105819),b=_FF(b,c,d,a,x[k+3],S14,3250441966),a=_FF(a,b,c,d,x[k+4],S11,4118548399),d=_FF(d,a,b,c,x[k+5],S12,1200080426),c=_FF(c,d,a,b,x[k+6],S13,2821735955),b=_FF(b,c,d,a,x[k+7],S14,4249261313),a=_FF(a,b,c,d,x[k+8],S11,1770035416),d=_FF(d,a,b,c,x[k+9],S12,2336552879),c=_FF(c,d,a,b,x[k+10],S13,4294925233),b=_FF(b,c,d,a,x[k+11],S14,2304563134),a=_FF(a,b,c,d,x[k+12],S11,1804603682),d=_FF(d,a,b,c,x[k+13],S12,4254626195),c=_FF(c,d,a,b,x[k+14],S13,2792965006),b=_FF(b,c,d,a,x[k+15],S14,1236535329),a=_GG(a,b,c,d,x[k+1],S21,4129170786),d=_GG(d,a,b,c,x[k+6],S22,3225465664),c=_GG(c,d,a,b,x[k+11],S23,643717713),b=_GG(b,c,d,a,x[k+0],S24,3921069994),a=_GG(a,b,c,d,x[k+5],S21,3593408605),d=_GG(d,a,b,c,x[k+10],S22,38016083),c=_GG(c,d,a,b,x[k+15],S23,3634488961),b=_GG(b,c,d,a,x[k+4],S24,3889429448),a=_GG(a,b,c,d,x[k+9],S21,568446438),d=_GG(d,a,b,c,x[k+14],S22,3275163606),c=_GG(c,d,a,b,x[k+3],S23,4107603335),b=_GG(b,c,d,a,x[k+8],S24,1163531501),a=_GG(a,b,c,d,x[k+13],S21,2850285829),d=_GG(d,a,b,c,x[k+2],S22,4243563512),c=_GG(c,d,a,b,x[k+7],S23,1735328473),b=_GG(b,c,d,a,x[k+12],S24,2368359562),a=_HH(a,b,c,d,x[k+5],S31,4294588738),d=_HH(d,a,b,c,x[k+8],S32,2272392833),c=_HH(c,d,a,b,x[k+11],S33,1839030562),b=_HH(b,c,d,a,x[k+14],S34,4259657740),a=_HH(a,b,c,d,x[k+1],S31,2763975236),d=_HH(d,a,b,c,x[k+4],S32,1272893353),c=_HH(c,d,a,b,x[k+7],S33,4139469664),b=_HH(b,c,d,a,x[k+10],S34,3200236656),a=_HH(a,b,c,d,x[k+13],S31,681279174),d=_HH(d,a,b,c,x[k+0],S32,3936430074),c=_HH(c,d,a,b,x[k+3],S33,3572445317),b=_HH(b,c,d,a,x[k+6],S34,76029189),a=_HH(a,b,c,d,x[k+9],S31,3654602809),d=_HH(d,a,b,c,x[k+12],S32,3873151461),c=_HH(c,d,a,b,x[k+15],S33,530742520),b=_HH(b,c,d,a,x[k+2],S34,3299628645),a=_II(a,b,c,d,x[k+0],S41,4096336452),d=_II(d,a,b,c,x[k+7],S42,1126891415),c=_II(c,d,a,b,x[k+14],S43,2878612391),b=_II(b,c,d,a,x[k+5],S44,4237533241),a=_II(a,b,c,d,x[k+12],S41,1700485571),d=_II(d,a,b,c,x[k+3],S42,2399980690),c=_II(c,d,a,b,x[k+10],S43,4293915773),b=_II(b,c,d,a,x[k+1],S44,2240044497),a=_II(a,b,c,d,x[k+8],S41,1873313359),d=_II(d,a,b,c,x[k+15],S42,4264355552),c=_II(c,d,a,b,x[k+6],S43,2734768916),b=_II(b,c,d,a,x[k+13],S44,1309151649),a=_II(a,b,c,d,x[k+4],S41,4149444226),d=_II(d,a,b,c,x[k+11],S42,3174756917),c=_II(c,d,a,b,x[k+2],S43,718787259),b=_II(b,c,d,a,x[k+9],S44,3951481745),a=addUnsigned(a,AA),b=addUnsigned(b,BB),c=addUnsigned(c,CC),d=addUnsigned(d,DD);var temp=wordToHex(a)+wordToHex(b)+wordToHex(c)+wordToHex(d);return temp.toLowerCase()}function base64_decode(data){var o1,o2,o3,h1,h2,h3,h4,bits,b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=0,ac=0,tmp_arr=[];do h1=b64.indexOf(data.charAt(i++)),h2=b64.indexOf(data.charAt(i++)),h3=b64.indexOf(data.charAt(i++)),h4=b64.indexOf(data.charAt(i++)),bits=h1<<18|h2<<12|h3<<6|h4,o1=bits>>16&255,o2=bits>>8&255,o3=255&bits,64==h3?tmp_arr[ac++]=String.fromCharCode(o1):64==h4?tmp_arr[ac++]=String.fromCharCode(o1,o2):tmp_arr[ac++]=String.fromCharCode(o1,o2,o3);while(i<data.length);return dec=tmp_arr.join(""),dec.replace(/\0+$/,"")}function date(format,timestamp,$lng){format=format||"Y-m-d h:n:s",timestamp="string"==typeof timestamp?new Date(timestamp):new Date;var formatChr=/\\?([a-z])/gi,formatChrCb=function(t,s){return __date[t]?__date[t]():s},toFixed=function(number,num){var k=Math.pow(10,num);return String(number/k).replace(/^\d+\./g,"")};$lng=$lng||"cn";var __week={cn:{full:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],abbr:["日","一","二","三","四","五","六"]},en:{full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}}[$lng],__month={cn:{full:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],abbr:["一","二","三","四","五","六","七","八","九","十","十一","十二"]},en:{full:["January","February","March","April","May","June","July","August","September","October","November","December"],abbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}}[$lng],__date={a:function(){return timestamp.getHours()>11?"pm":"am"},A:function(){return this.a().toUpperCase()},B:function(){var H=3600*timestamp.getUTCHours(),i=60*timestamp.getUTCMinutes(),s=timestamp.getUTCSeconds();return toFixed(Math.floor((H+i+s+3600)/86.4)%1e3,3)},c:function(){return"Y-m-d\\Th:i:sP".replace(formatChr,formatChrCb)},d:function(){return toFixed(this.j(),2)},D:function(){return __week.abbr[this.w()]},F:function(){return __month.full[this.n()]},g:function(){return this.G()%12||12},G:function(){return timestamp.getHours()},h:function(){return toFixed(this.g(),2)},H:function(){return toFixed(this.G(),2)},i:function(){return toFixed(timestamp.getMinutes(),2)},I:function(){var a=new Date(this.Y(),0),b=new Date(this.Y(),6),c=Date.UTC(this.Y(),0),d=Date.UTC(this.Y(),6);return 0+(a-c!==b-d)},j:function(){return timestamp.getDate()},l:function(){return __week.full[this.w()]},L:function(){return 1===new Date(this.Y(),1,29).getMonth()|0},m:function(){return toFixed(this.n(),2)},M:function(){return __month.abbr[this.n()]},n:function(){return timestamp.getMonth()+1},N:function(){return this.w()||7},o:function(){var W=this.W(),Y=this.Y();return Y+(12===n&&9>W?-1:1===n&&W>9)},O:function(){var tzo=timestamp.getTimezoneOffset(),a=Math.abs(tzo);return(tzo>0?"-":"+")+toFixed(100*Math.floor(a/60)+a%60,4)},P:function(){var O=this.O();return O.substr(0,3)+":"+O.substr(3,2)},r:function(){return"D, d M Y H:i:s O".replace(formatChr,formatChrCb)},s:function(){return toFixed(timestamp.getSeconds(),2)},S:function(){var j=this.j();return j>4&&21>j?"th":{1:"st",2:"nd",3:"rd"}[j%10]||"th"},t:function(){return new Date(this.Y(),this.n(),0).getDate()},T:function(){return"UTC"},u:function(){return toFixed(1e3*timestamp.getMilliseconds(),6)},U:function(){return timestamp.getTime()/1e3|0},w:function(){return timestamp.getDay()},W:function(){var a=new Date(this.Y(),this.n()-1,this.j()-this.N()+3),b=new Date(a.getFullYear(),0,4);return toFixed(1+Math.round((a-b)/864e5/7),2)},y:function(){return this.Y().toString().slice(-2)},Y:function(){return timestamp.getFullYear()},z:function(){var a=new Date(this.Y(),this.n()-1,this.j()),b=new Date(this.Y(),0,1);return Math.round((a-b)/864e5)+1},Z:function(){return 60*-timestamp.getTimezoneOffset()}};return format.replace(formatChr,formatChrCb)}function pathinfo($url){var url=$url.match(/^(.+\/)((.+)(\..+))$/i);return{path:url[1],file:url[2],name:url[3],ext:url[4]}}function params(ary){var json={};return $.each(ary,function(i,n){if(/\[\]$/.test(n.name)){var key=n.name.replace(/\[\]$/,"");empty(json[key])&&(json[key]=[]),json[key].push(n.value)}else if(/\[.+?\]$/.test(n.name)){var key=n.name.replace(/\[.+$/,""),res=[],result='json["'+key+'"]';n.name.replace(/\[([^\]]+)\]/gi,function(m,i){/^\d+$/.test(i)?(res.push("if(empty("+result+"))"+result+"=[];"),result+=m):(res.push("if(empty("+result+"))"+result+"={};"),result+='["'+i+'"]')}),result+="=n.value;";try{eval(res.join("")+result)}catch(e){alert(e)}}else json[n.name]=n.value}),json}$.fn.loadImage=function(options){var cfg=$.extend({width:0,height:0,root:""},options),uri=cfg.root+"image/%s_%dx%d.jpg";return this.each(function(){var __this=$(this),sw=__this.width();__this.find("img").each(function(){var img=$(this).hide(),src=img.attr("dynsrc");img.removeAttr("width"),img.removeAttr("height"),img.css("width","auto"),img.css("height","auto"),$.get(sprintf(uri,src,cfg.width||sw,cfg.height),function(url){img.attr("src",url),img.load(function(){img.fadeIn()})})})})},$.fn.baiduMap=function(){var uri="http://api.map.baidu.com/staticimage?markers=%s&width=%d&height=%d&zoom=15&copyright=1&markerStyles=-1";return this.each(function(){var __this=$(this),sw=__this.width();__this.find("img[center]").each(function(){var img=$(this).hide();img.removeAttr("width"),img.removeAttr("height"),img.css("width","100%"),img.css("height","auto"),img.attr("src",sprintf(uri,img.attr("center"),sw,.75*sw)),img.show()})})};